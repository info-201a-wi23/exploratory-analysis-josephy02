R
q()
install.packages("tidyverse")
remove.packages("tidyverse")
install.packages("tidyverse")
library("tidyverse")
install.packages("tidyverse")
library(tidyverse)
install.packages("tidyverse")
q()
install.packages("tidyverse")
library("tidyverse")
library("dplyr")
install.packages(c("colorspace", "data.table", "dplyr", "evaluate", "fansi", "forcats", "fs", "gargle", "ggplot2", "knitr", "lubridate", "markdown", "readr", "readxl", "rmarkdown", "sass", "tinytex", "utf8", "vctrs", "xfun", "yaml"))
library("tidyverse")
library("tidyverse")
# Author: Lewis Going
library("ggplot2")
library("tidyverse")
library("viridis")
install.packages("viridis")
install.packages("viridis")
library("viridis")
install.packages(c("colorspace", "dplyr", "fansi"))
library("viridis")
library("ggplot2")
library("tidyverse")
library("plotly")
library("dplyr")
my_df <- read.csv("~/Downloads/RRVRUSQ156N.csv")
my_df <- read.csv("RRVRUSQ156N.csv")
setwd("C:/Users/arafi/Desktop/INFO201/exploratory-analysis-josephy02")
my_slice <- my_df %>%
filter(DATE >= "2013-01-01")
my_df <- read.csv("RRVRUSQ156N.csv")
my_slice <- my_df %>%
filter(DATE >= "2013-01-01")
Date <- my_slice$DATE
Percent <- my_slice$RRVRUSQ156N
Year <- as.Date(Date)
ggplot(data = my_slice, aes(x = Year, y = Percent, group = 1)) +
geom_line(color = "red") +
geom_point() +
ggtitle("Rental Vacancy Rate in the US Over 10 Years") +
scale_x_date(date_labels="%Y", date_breaks  = "1 year")
# Author: Lewis Going
library("ggplot2")
library("tidyverse")
install.packages("viridis")
install.packages("viridis")
library("viridis")
cities <- read.csv("cities.csv", stringsAsFactors = FALSE)
---
title: "Exploratory Analysis"
### Table
```{r, echo = FALSE, code = readLines("Chart1Scatterplot.R")}
```{r, echo = FALSE, code = {readLines("Chart1Scatterplot.R");head((master_table),30)}}
### Chart 1
Include a chart
Describe why you chose this chart and what information it reveals
Here's an example of how to run an R script inside an RMarkdown file:
```{r, echo = FALSE, code = readLines("Chart1Scatterplot.R")}
```{r, echo = FALSE, code = readLines("Chart1Scatterplot.R")}
library("ggplot2")
library("tidyverse")
library("viridis")
df1 <- read.csv("df1.csv", stringsAsFactors = FALSE)
df2 <- read.csv("df2.csv", stringsAsFactors = FALSE)
df3 <- read.csv("df3.csv", stringsAsFactors = FALSE)
df4 <- read.csv("df4.csv", stringsAsFactors = FALSE)
df5 <- read.csv("df5.csv", stringsAsFactors = FALSE)
df6 <- read.csv("df6.csv", stringsAsFactors = FALSE)
cities <- merge(df1,df2, by = "city")
cities <- merge(cities,df3, by = "city")
cities <- merge(cities,df4, by = "city")
cities <- merge(cities,df5, by = "city")
cities <- merge(cities,df6, by = "city")
# Function to calculate the state averages
calculate_state_averages <- function(cities) {
cities %>%
group_by(state) %>%
summarise(median_ppsf_avg = median(median_ppsf, na.rm = TRUE),
median_list_ppsf_avg = median(median_list_ppsf, na.rm = TRUE)) %>%
mutate(avg_diff_ratio = median_list_ppsf_avg / median_ppsf_avg)
}
state_averages <- calculate_state_averages(cities)
# Function to calculate the average homes sold by state
average_homes_sold_by_state <- function(data) {
data %>%
group_by(state) %>%
summarise(avg_homes_sold = mean(homes_sold, na.rm = TRUE))
}
homes_sold_avg <- average_homes_sold_by_state(cities)
state_averages <- left_join(state_averages, homes_sold_avg, by = "state")
state_averages <- state_averages[!state_averages$state == "Columbia",]
# Scatter plot with regression line
ggplot(state_averages,
aes(x = avg_diff_ratio,
y = avg_homes_sold)) +
geom_point(aes(colour = state),
size = 3) +
geom_smooth(method="lm") +
labs(x = "List vs sale ppsf ratio",
y = "Average homes sold",
title = "Correlation between homes sales and list vs sale price",
subtitle = "Average ratio between list and sale price-per-square-foot") +
scale_color_viridis(discrete = T) +
theme_minimal() +
theme(text = element_text(size=16))
The purpose of this chart was to visually represent the relationship between home sales and the ratio between list and sale price per square foot across states during the period from 2017 to 2022. The analysis suggests that there is a weak correlation between these two variables. Notably, the average number of homes sold in Nevada and Arizona was significantly higher than in other states, with homes selling slightly above the list price. Much fewer homes were sold in Vermont than in other states on average but the homes that did sell sold for around 1.08 times the list price on average. The next steps for this data is to figure out why there is little correlation between price per square foot ratio and houses sold.
### Chart 2
```{r, echo = FALSE, code = readLines("Chart1Scatterplot.R")}
library("ggplot2")
library("tidyverse")
library("plotly")
library("dplyr")
my_df <- read.csv("RRVRUSQ156N.csv")
my_slice <- my_df %>%
filter(DATE >= "2013-01-01")
Date <- my_slice$DATE
Percent <- my_slice$RRVRUSQ156N
Year <- as.Date(Date)
ggplot(data = my_slice, aes(x = Year, y = Percent, group = 1)) +
geom_line(color = "red") +
geom_point() +
ggtitle("Rental Vacancy Rate in the US Over 10 Years") +
scale_x_date(date_labels="%Y", date_breaks  = "1 year")
Date <- my_slice$DATE
Percent <- my_slice$RRVRUSQ156N
Year <- as.Date(Date)
ggplot(data = my_slice, aes(x = Year, y = Percent, group = 1)) +
geom_line(color = "red") +
geom_point() +
ggtitle("Rental Vacancy Rate in the US Over 10 Years") +
scale_x_date(date_labels="%Y", date_breaks  = "1 year")
plot_chart2<- ggplot(data = my_slice, aes(x = Year, y = Percent, group = 1)) +
geom_line(color = "red") +
geom_point() +
ggtitle("Rental Vacancy Rate in the US Over 10 Years") +
scale_x_date(date_labels="%Y", date_breaks  = "1 year")
plot_chart2
